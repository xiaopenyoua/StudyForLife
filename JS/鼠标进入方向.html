<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>鼠标移入方向</title>

    <style>
      body {
        text-align: center;
        text-align: -webkit-center;
      }
      .container {
        height: 100px;
        width: 100px;
        background: antiquewhite;
      }
    </style>
  </head>
  <body>
    <div class="container"></div>
  </body>

  <script>
    const container = document.getElementsByClassName('container')[0]
    const rect = container.getBoundingClientRect() // 获取元素位置，这个方法没有参数

    const theta = Math.atan2(rect.height, rect.width) // 45度角
    console.log(theta, 'theta')

    container.addEventListener('mouseenter', (e) => {
      const x = e.offsetX - rect.width / 2
      const y = rect.height / 2 - e.offsetY
      const d = Math.atan2(y, x)

      // Math.PI 相当于 180度

      if (d < theta && d >= -theta) {
        console.log('右边')
      } else if (d >= theta && d < Math.PI - theta) {
        console.log('上边')
      } else if (d < -(Math.PI - theta) || d >= Math.PI - theta) {
        console.log('左边')
      } else {
        console.log('下边')
      }
    })
  </script>
</html>
